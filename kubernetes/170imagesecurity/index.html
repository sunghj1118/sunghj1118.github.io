<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.7"/><meta name="theme-color" content="#663399"/><style data-href="/styles.5250b878f8ec5a9f94b0.css" data-identity="gatsby-global-css">body{background-color:#f5f5f5;color:#333;font-family:Roboto,sans-serif;margin:0;padding:0}a{color:#007acc;text-decoration:none}a:hover{text-decoration:underline}h1,h2,h3,h4,h5,h6{font-family:Montserrat,sans-serif}button{font-family:Poppins,sans-serif}.markdown-body{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);font-family:Roboto,sans-serif;line-height:1.6;margin:2rem 0;padding:2rem}.markdown-body blockquote{border-left:.25em solid #dfe2e5;color:#6a737d;margin:0;padding:0 1em}.markdown-body pre{background-color:#f6f8fa;border-radius:8px;overflow:auto;padding:16px}.markdown-body code{background:rgba(27,31,35,.05);border-radius:3px;padding:.2em .4em}.markdown-body pre code{white-space:pre-wrap;word-break:break-word}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;margin-bottom:1rem;margin-top:1.5rem}.markdown-body p{margin-bottom:1rem}.markdown-body a{word-wrap:break-word;overflow-wrap:break-word;word-break:break-word}</style><style data-styled="" data-styled-version="5.3.11">.fSgxj{max-width:700px;margin:0 auto;padding:0 20px;}/*!sc*/
data-styled.g1[id="Container-sc-16528bm-0"]{content:"fSgxj,"}/*!sc*/
.dolPew{background:#f0f0f0;padding:0.5rem;text-align:center;font-size:0.8rem;border-top:1px solid #ccc;font-family:'Lato',sans-serif;}/*!sc*/
data-styled.g2[id="Footer__FooterContainer-sc-z09s33-0"]{content:"dolPew,"}/*!sc*/
.ijVxnH{color:#007BFF;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.ijVxnH:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g3[id="Footer__FooterLink-sc-z09s33-1"]{content:"ijVxnH,"}/*!sc*/
.eravZ{font-size:2.5rem;margin:0.5rem 0 0.5rem 0;}/*!sc*/
data-styled.g5[id="blog-post__PostTitle-sc-1iu9sol-0"]{content:"eravZ,"}/*!sc*/
.kXOzhE{font-size:1rem;color:#666;margin-bottom:1rem;}/*!sc*/
data-styled.g6[id="blog-post__PostDate-sc-1iu9sol-1"]{content:"kXOzhE,"}/*!sc*/
.irwwWE{display:inline-block;margin-bottom:0.5rem;padding:0.3rem 0.6rem;background-color:#6a9b86;color:white;-webkit-text-decoration:none;text-decoration:none;border-radius:3px;font-size:0.875rem;font-weight:normal;}/*!sc*/
.irwwWE:hover{background-color:#005fa3;}/*!sc*/
data-styled.g7[id="blog-post__AllPostsButton-sc-1iu9sol-2"]{content:"irwwWE,"}/*!sc*/
</style><link rel="icon" href="/favicon-32x32.png?v=b2dec66daa6289e2a332fc74ed123411" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b2dec66daa6289e2a332fc74ed123411"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,700|Montserrat:400,700|Poppins:400,700&amp;display=swap" rel="stylesheet"/><script data-goatcounter="https://sunghj1118.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Container-sc-16528bm-0 fSgxj"><div class="markdown-body"><a class="blog-post__AllPostsButton-sc-1iu9sol-2 irwwWE" href="/">&lt; All posts</a><h1 class="blog-post__PostTitle-sc-1iu9sol-0 eravZ">Image Security</h1><p class="blog-post__PostDate-sc-1iu9sol-1 kXOzhE">May 23, 2024</p><div><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyklEQVR42nWQTwuDMAzF+/2/2WB4cKdRhpe5i8xhpf+Ft6QaKbodHm2Tl1+aKOccRN77VXwX0Ztz1lo67e6rT8mz1AkWIqbXA+/7BaO+ws8ThmFA13Xo+x6fcUQIYffXHyrAHbRpNVMDa0gzYoxwFLdcwIW7x/+EqhrEYkCKCSnnVSmVmKdYiLncWf+g6gQjQK1MUB7lSePy6MuyIG5NSqMDVAmohjGEVYoprrVG0zS4tS2MMSUn/uM+1fFnNUzEeYGwP2+rkHXU0C/rwh7iZrbDXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image"
        title=""
        src="/static/7eaba702cf40452fc61d86b353286e34/5a190/image.png"
        srcset="/static/7eaba702cf40452fc61d86b353286e34/772e8/image.png 200w,
/static/7eaba702cf40452fc61d86b353286e34/e17e5/image.png 400w,
/static/7eaba702cf40452fc61d86b353286e34/5a190/image.png 800w,
/static/7eaba702cf40452fc61d86b353286e34/b94e3/image.png 1126w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span>
The name is nginx, but what is this image and where is this image pulled from?</p>
<p>nginx is actually the image or the repository name. When you say that the image is nginx, that is actually library/nginx. When the first part, the username is not provided, it is assumed to be library. Library is the default repository in Dockerhub.</p>
<h2>What if we pull the image from our own repository?</h2>
<p>So instead of library, it would be your username or your company's username. Where are these images stored and pulled from? Since we have not specified the location of where these images will be pulled from, it is assumed to be Docker's default registry, Dockerhub, whose DNS name is docker.io.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA3ElEQVR42lWQ3Y6EIAyF5/1fUC/cdWMyEpc/ARFQzNmWGSfZi0PpoXylPLYY4VcNK35gnt/YgoOUEkLMLa7rCq01lFKY5xnLsjQJIZq899j3HZE4rAcvwdkGtM8vxOAhlaZLvxQVrCWgMa9IYEN7biKloiYaIWxIBLyhDRgpSeVAZuWCRCrHQaovr1BOsZwVB/mscp50fiKl1GD/gLfBnbiAL/C4wzDQqxSu64Kh103ThEznXDOOY1N65zfjA2Qz59zEQPZ4NI611vZf3IDrnXPo+x5d17WaQhPcwD+w+H5FUVfMxgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="dns"
        title=""
        src="/static/ea593218f0a09582d97b0226fab99739/5a190/dns.png"
        srcset="/static/ea593218f0a09582d97b0226fab99739/772e8/dns.png 200w,
/static/ea593218f0a09582d97b0226fab99739/e17e5/dns.png 400w,
/static/ea593218f0a09582d97b0226fab99739/5a190/dns.png 800w,
/static/ea593218f0a09582d97b0226fab99739/c1b63/dns.png 1200w,
/static/ea593218f0a09582d97b0226fab99739/b1584/dns.png 1342w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>Registries are the places where images are stored. Another commonly used registry is gcr.io which is Google's registry.</p>
<p>When you have application build in-house that shouldn't be public, hosting an internal private registry is a solution.</p>
<p>Many cloud service providers such as GCP, AWS, or Azure provide private registries by default.</p>
<p>In the case of docker, you must first login to the registry to run a private container.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 28.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVR42j3MO04CURTG8TsPSBSEhEKjxpjYU9HSAWp0eMQtsAEaQWUIyyCOgLMENkKg4DGDhS6CN4S/d0aw+OX7cu65R1RqL7y9vlGr1ahWq5imSb1ex6yaVMplyuVnXioVSqUSjUaD4XBIr9ej3+/7Dr3b7TIYDBBX19ecn19wenpGLBbjOBQiFA4TDAbR9QCapqPpOqqmEZAz7+2wE4mcEJYZjUZRFIVEIoG4uZSHInIpoHGkqwQUgS5p4i896r5rkrLvXoo9VVX9jMfjiFzBIP+UpfCUx3h4IGs8kjMMclk5l/56VuYjd5mM7166zaRJpVK+dDpNMpmkWCwiRu6Y8WjMSHIcB9d1cTyOy2QyYfL15ffvnx92wHa7ZXOw2bBer32r1YrFYoF4/7RoWk0+mk1arRbtdvuf/Wlj2zaWZdHpdNjtdv7H5XLp8w545vM5s9mM6XTKL5lCF4D9HCGhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="private"
        title=""
        src="/static/ea3d81b900e7c7b97f579c9b55679540/5a190/login.png"
        srcset="/static/ea3d81b900e7c7b97f579c9b55679540/772e8/login.png 200w,
/static/ea3d81b900e7c7b97f579c9b55679540/e17e5/login.png 400w,
/static/ea3d81b900e7c7b97f579c9b55679540/5a190/login.png 800w,
/static/ea3d81b900e7c7b97f579c9b55679540/c1b63/login.png 1200w,
/static/ea3d81b900e7c7b97f579c9b55679540/29007/login.png 1600w,
/static/ea3d81b900e7c7b97f579c9b55679540/161ec/login.png 1840w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 29.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVR42l2Rz0vCcBjG94dEdBGXabFky6mEE6VT7M9qthl4EZxuLi9FIinkzuYEPXS1ixfB2/Tm/Inw9N23FPKFD+/zwsvzPvAyb806jIoB69lCtVqFZVmo1WowjArG4zF2ux222y3VdvuD0u/3MZvN4LruP6bTKZjB1wCfnQ663S4cx6H0ej0yOxiNRphMJnDJ4nujjrs4h1QiBlGMI5PJHMhms5AkCbIsg3lpvKJUKkEv6ySVAdM0CQbRJnRdR7FYJL0MVXmAfMshGeMRjUYRiUQQDocpvmZZlhwSwXjzOTzPw2KxoCyXS6xWK8p6vaazX7ZtI8Vf4l4SkUwkwfPCAUEQwHHXSKfTYOZHhnuzY8Nmq4Wz0xNchYIIsuck0R4WodAFAoEAMb4hCf/MjpNtNhv6DL/79T0cIpd7hJZ/Qj6vQdN+UVWVoigKCoUCfgAgVVe+14BBUQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="private2"
        title=""
        src="/static/e491eeacfe70ff88d224936769b66563/5a190/private.png"
        srcset="/static/e491eeacfe70ff88d224936769b66563/772e8/private.png 200w,
/static/e491eeacfe70ff88d224936769b66563/e17e5/private.png 400w,
/static/e491eeacfe70ff88d224936769b66563/5a190/private.png 800w,
/static/e491eeacfe70ff88d224936769b66563/c1b63/private.png 1200w,
/static/e491eeacfe70ff88d224936769b66563/29007/private.png 1600w,
/static/e491eeacfe70ff88d224936769b66563/b6e50/private.png 1862w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>Within kubernetes, we know that the images are pulled by and run by the docker runtime on the worker nodes.</p>
<p>However, how do we pass the credentials to the docker runtimes on the worker nodes? To do this, we first create a secret object with the credentials.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7UlEQVR42n2SzWsaQRjG9w/pKaHRSNVWd9VtuwkW9JSaaI/pH+HBi8dqTXMqpSK4UXf9KCahCT2EXIQGGvVgDgUPXqRRFP8Bv799uvM2lJbQvvDjmYGZd2aeZ7hPZ3nEYjHIsox4PE4kEglEo1E0Gg2wWi6XaDabOM7ncXKcR6FQQKfTQavV+ot2uw3u5vsNrr9do1gsolQqEeVymbRaraJWq+HH7S3OP5/CbTdiW7SBFwSIokg4HA5SnufhdrvBnV2cQ1VUpNNp5HI5IpvNkmYyGSiKgqw2/vjhPXalx5BEAVYrD7PZDJPJRLCxwWCAJEngJuMJptMpZrMZsVgsfsOeOp/P6dlfr67w3GqExylCevYUNsEG4Q673Q6LxQKXywWu2+2C0ev1iH6/j8FgQAyHQ5qzuri8hHH9AV5Y9RCemPHIsImHGxvQ6XTQ6zextrZOjTl2i//VarUiZaEkkwmyRlUVpFIpIplMEkdHsmZVBlz+ywnkuKx59WuBkmKLlbuNmrdqmn4AS/DPA/51OLf/eh/bW1t45fPB4/HAu+eFz+vFnqY7Oy/hdDopyUqlQpvG4zExGo3IEmYNs4XZxazjDt8dIhAIIPI2gtCbEMLhMEKhEHEQOUAwGITf70e9XqeGLDgWFNPJZHKv+U92jRXFDGVjBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="regcred"
        title=""
        src="/static/69d18390c6807e0f70d8afe29fc742bc/5a190/regcred.png"
        srcset="/static/69d18390c6807e0f70d8afe29fc742bc/772e8/regcred.png 200w,
/static/69d18390c6807e0f70d8afe29fc742bc/e17e5/regcred.png 400w,
/static/69d18390c6807e0f70d8afe29fc742bc/5a190/regcred.png 800w,
/static/69d18390c6807e0f70d8afe29fc742bc/c1b63/regcred.png 1200w,
/static/69d18390c6807e0f70d8afe29fc742bc/29007/regcred.png 1600w,
/static/69d18390c6807e0f70d8afe29fc742bc/71ba4/regcred.png 1870w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>The secret is of type docker-registry and we name it regcred. The secret is then passed to the pod definition file.</p></div></div></div><footer class="Footer__FooterContainer-sc-z09s33-0 dolPew"><p>© <!-- -->2024<!-- --> HyunJoon Sung. All Rights Reserved.</p><p><a href="https://github.com/sunghj1118" class="Footer__FooterLink-sc-z09s33-1 ijVxnH">GitHub</a></p></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/kubernetes/170imagesecurity/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-2a748b101fc84366569c.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-60d2a0d2c248384ad0d2.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-5303704378ee89c9cb4a.js\"],\"component---src-pages-page-2-js\":[\"/component---src-pages-page-2-js-50e83426ef775361f1a0.js\"],\"component---src-pages-projects-js\":[\"/component---src-pages-projects-js-09d84881e2521f783e15.js\"],\"component---src-pages-using-ssr-js\":[\"/component---src-pages-using-ssr-js-f4952d7ab534af96aca0.js\"],\"component---src-pages-using-typescript-tsx\":[\"/component---src-pages-using-typescript-tsx-55e14b7949e0e0236a5b.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-a5dcc9dbff974058c7d9.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-84a93951c485ea92cc02.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="f3666f7f9e92e86537f1";</script><script src="/webpack-runtime-12328c08abab054a2f26.js" async></script><script src="/framework-a880249783d1bea64870.js" async></script><script src="/app-2a748b101fc84366569c.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>