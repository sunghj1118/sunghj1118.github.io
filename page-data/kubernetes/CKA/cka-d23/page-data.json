{"componentChunkName":"component---src-templates-blog-post-js","path":"/kubernetes/CKA/cka-d23/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"CKA 시험 준비 2일차","date":"October 29, 2024"},"html":"<h1>CKA 시험 준비 2일차</h1>\n<p>오늘은 어제 풀었던 모의고사를 다시 한번 풀어보면서 복습해보려 한다. 이렇게 해서 간단한 질문들은 그래도 빠르게 풀 수 있게 연습해보려 한다.</p>\n<h2>오늘의 풀이</h2>\n<ol>\n<li>Create a static pod named static-busybox on the controlplane node that uses the busybox image and the command sleep 1000.</li>\n</ol>\n<p>Name: static-busybox\nImage: busybox</p>\n<pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n  name: static-busybox\nspec:\n  containers:\n  - name: busybox\n    image: busybox:1.28\n    args:\n    - sleep\n    - \"1000\"\n</code></pre>\n<p><code>kubectl apply -f static-busybox.yaml</code></p>\n<ul>\n<li><a href=\"https://kubernetes.io/docs/reference/kubectl/quick-reference/\">https://kubernetes.io/docs/reference/kubectl/quick-reference/</a></li>\n</ul>\n<ol start=\"2\">\n<li>Create a POD in the finance namespace named temp-bus with the image redis:alpine.</li>\n</ol>\n<p><code>kubectl run temp-bus --image=redis:alpine -n finance</code></p>\n<ol start=\"3\">\n<li>A new application orange is deployed. There is something wrong with it. Identify and fix the issue.</li>\n</ol>\n<p>어제 틀렸던 문제다. 보니까 무슨 temp에 저장된걸 적용시켜야 했던데. edit 써서 tmp 생성까진 기억나는데 다음이 기억이 안난다. documentation에도 못 찾겠다.</p>\n<p>어제 답을 보니까 <code>replace</code>를 써야한다. <code>kubectl replace -f /tmp/kubectl-edit-xxxx.yaml --force</code></p>\n<ol start=\"4\">\n<li>Expose the hr-web-app created in the previous task as a service named hr-web-app-service, accessible on port 30082 on the nodes of the cluster.</li>\n</ol>\n<p>The web application listens on port 8080.</p>\n<pre><code>Name: hr-web-app-service  \nType: NodePort  \nEndpoints: 2  \nPort: 8080  \nNodePort: 30082  \n</code></pre>\n<p>아 이건 알았는데 기억이 안난다.</p>\n<p><code>kubectl expose deployment hr-web-app --name=hr-web-app-service --type=NodePort --port=8080</code></p>\n<p><code>kubectl edit svc hr-web-app-service</code></p>\n<ol start=\"5\">\n<li>Use JSON PATH query to retrieve the osImages of all the nodes and store it in a file /opt/outputs/nodes_os_x43kj56.txt.</li>\n</ol>\n<p>The osImage are under the nodeInfo section under status of each node.</p>\n<p>이건 json query 문법이 자세히 기억이 안난다. nodes 아래 어디에 있더라..</p>\n<p><code>kubectl get nodes -o jsonpath='{.items[*].status.nodeInfo.osImage}' > /opt/outputs/nodes_os_x43kj56.txt</code></p>\n<ul>\n<li><a href=\"https://kubernetes.io/docs/reference/kubectl/jsonpath/\">https://kubernetes.io/docs/reference/kubectl/jsonpath/</a></li>\n</ul>\n<p>이건 연습 좀 해야겠다. 봐도 잘 모르겠다.</p>\n<ol start=\"6\">\n<li>\n<p>Create a Persistent Volume with the given specification:</p>\n<p>Volume name: pv-analytics<br>\nStorage: 100Mi<br>\nAccess mode: ReadWriteMany<br>\nHost path: /pv/data-analytics</p>\n</li>\n</ol>\n<pre><code class=\"language-yaml\">apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: pv-analytics\nspec:\n  capacity:\n    storage: 100Mi\n  accessModes:\n    - ReadWriteMany\n  hostPath:\n    path: \"/pv/data-analytics\"\n</code></pre>\n<p><code>kubectl apply -f pv.yaml</code>로 만들어준다.</p>\n<h2>복기</h2>\n<p>static-busybox 틀렸다.</p>\n<pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n  name: static-busybox\nspec:\n  containers:\n  - name: busybox\n    image: busybox:1.28\n    args:\n    - sleep\n    - \"1000\"               \n</code></pre>\n<p>답은 이거였다.</p>\n<pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n  name: static-busybox\nspec:\n  containers:\n  - name: static-busybox\n    image: busybox\n    command: [\"sleep\", \"1000\"]\n</code></pre>"}},"pageContext":{"slug":"/kubernetes/CKA/cka-d23/"}},"staticQueryHashes":[],"slicesMap":{}}