{"componentChunkName":"component---src-templates-blog-post-js","path":"/kubernetes/cka1/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"1차 모의고사 기출문제","date":"September 12, 2024"},"html":"<h1>1차 모의고사 기출문제</h1>\n<ol>\n<li>Deploy a pod named nginx-pod using the nginx:alpine image.</li>\n</ol>\n<p><code>kubectl run nginx-pod --image=nginx:alpine</code></p>\n<ol start=\"2\">\n<li>Deploy a redis pod using the redis:alpine image with the labels set to tier=db.</li>\n</ol>\n<p><code>kubectl run redis --image=redis:alpine --labels=tier=db</code></p>\n<ol start=\"3\">\n<li>Create a service redis-service to expose the redis application within the cluster on port 6379.</li>\n</ol>\n<p><code>kubectl expose pod redis --port=6379 --name=redis-service</code></p>\n<ol start=\"4\">\n<li>Create a deployment named webapp using the image kodekloud/webapp-color with 3 replicas.</li>\n</ol>\n<p><code>kubectl create deployment webapp --image=kodekloud/webapp-color --replicas=3</code></p>\n<ol start=\"5\">\n<li>Create a new pod called custom-nginx using the nginx image and run it on container port 8080.</li>\n</ol>\n<p><code>kubectl run custom-nginx --image=nginx --port=8080</code></p>\n<ol start=\"6\">\n<li>Create a new namespace called dev-ns.</li>\n</ol>\n<p><code>kubectl create namespace dev-ns</code></p>\n<ol start=\"7\">\n<li>Create a new deployment called redis-deploy in the dev-ns namespace with the redis image. It should have 2 replicas.</li>\n</ol>\n<p><code>kubectl create deployment redis-deploy --image=redis --replicas=2 -n dev-ns</code></p>\n<p>이때, 일반적인 <code>kubectl get deployments</code>로 하면 방금 생성한 deployment가 안보인다. 이때는 namespace를 다음과 같이 지정해주면 된다: <code>kubectl get deployments -n dev-ns</code></p>\n<ol start=\"8\">\n<li>Create a pod called httpd using the image httpd:alpine in the default namespace. Next, create a service of type ClusterIP by the same name (httpd). The target port for the service should be 80.</li>\n</ol>\n<p><code>kubectl run httpd --image=httpd:alpine</code>\n<code>kubectl expose pod httpd --port=80 --type=ClusterIP --name=httpd</code></p>\n<p>이렇게 했는데, 보니까 <code>kubectl run httpd --image=httpd:alpine --port=80 --expose</code>로 한번에 할 수 있었다. 보니까 ClusterIP가 default값이라서 생략해도 되는것 같다.</p>\n<ol start=\"9\">\n<li>Get the list of nodes in JSON format and store it in a file at /opt/outputs/nodes-z3444kd9.json.</li>\n</ol>\n<p><code>kubectl get nodes -o json > /opt/outputs/nodes-z3444kd9.json</code></p>\n<ol start=\"10\">\n<li>Create a service messaging-service to expose the messaging application within the cluster on port 6379.</li>\n</ol>\n<p><code>kubectl expose pod messaging --port=6379 --name=messaging-service</code></p>\n<ol start=\"11\">\n<li>Create a deployment named hr-web-app using the image kodekloud/webapp-color with 2 replicas.</li>\n</ol>\n<p><code>kubectl create deployment hr-web-app --image=kodekloud/webapp-color --replicas=2</code></p>\n<ol start=\"12\">\n<li>Create a static pod named static-busybox on the controlplane node that uses the busybox image and the command sleep 1000.</li>\n</ol>\n<p><code>grep -i staticPodPath /var/lib/kubelet/config.yaml</code>로 static pod의 경로를 찾아서 그 경로에 pod를 만들면 된다.\n<code>vim /etc/kubernetes/manifests/static-busybox.yaml</code>로 만들어서 아래 내용을 넣어주면 된다.</p>\n<pre><code class=\"language-yaml\">apiVersion: v1\nkind: Pod\nmetadata:\n  name: static-busybox\nspec:\n  containers:\n  - name: static-busybox\n    image: busybox\n    command: [\"sleep\", \"1000\"]\n</code></pre>\n<h2>마무리</h2>\n<ul>\n<li>3번은 create service를 하는게 아니라 expose라는걸 써서 헷갈린다.</li>\n<li>ClusterIP가 default값이라서 생략해도 되는것 같다.</li>\n<li>같은 이름의 pod와 service를 만들때는 <code>kubectl run</code>으로 pod를 만들고 <code>--expose</code>로 service를 만들면 된다.</li>\n</ul>"}},"pageContext":{"slug":"/kubernetes/cka1/"}},"staticQueryHashes":[],"slicesMap":{}}