<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.4"/><meta name="theme-color" content="#663399"/><style data-styled="" data-styled-version="5.3.11">.fSgxj{max-width:700px;margin:0 auto;padding:0 20px;}/*!sc*/
data-styled.g1[id="Container-sc-16528bm-0"]{content:"fSgxj,"}/*!sc*/
.dolPew{background:#f0f0f0;padding:0.5rem;text-align:center;font-size:0.8rem;border-top:1px solid #ccc;font-family:'Lato',sans-serif;}/*!sc*/
data-styled.g2[id="Footer__FooterContainer-sc-z09s33-0"]{content:"dolPew,"}/*!sc*/
.ijVxnH{color:#007BFF;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.ijVxnH:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g3[id="Footer__FooterLink-sc-z09s33-1"]{content:"ijVxnH,"}/*!sc*/
body{font-family:'Roboto',sans-serif;background-color:#f5f5f5;margin:0;padding:0;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-family:'Montserrat',sans-serif;}/*!sc*/
button{font-family:'Poppins',sans-serif;}/*!sc*/
data-styled.g4[id="sc-global-fbFGBJ1"]{content:"sc-global-fbFGBJ1,"}/*!sc*/
.kQfybW{font-size:2.5rem;margin-bottom:0.5rem;}/*!sc*/
data-styled.g5[id="blog-post__PostTitle-sc-1iu9sol-0"]{content:"kQfybW,"}/*!sc*/
.jyfjff{font-size:1rem;color:#666;margin-bottom:2rem;}/*!sc*/
data-styled.g6[id="blog-post__PostDate-sc-1iu9sol-1"]{content:"jyfjff,"}/*!sc*/
</style><link rel="icon" href="/favicon-32x32.png?v=b2dec66daa6289e2a332fc74ed123411" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b2dec66daa6289e2a332fc74ed123411"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b2dec66daa6289e2a332fc74ed123411"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,700|Montserrat:400,700|Poppins:400,700&amp;display=swap" rel="stylesheet"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Container-sc-16528bm-0 fSgxj"><h1 class="blog-post__PostTitle-sc-1iu9sol-0 kQfybW">RAG</h1><p class="blog-post__PostDate-sc-1iu9sol-1 jyfjff">June 04, 2024</p><div><h1>What even is RAG?</h1>
<p>RAG, or Retrieval-Augmented Generation, is the process of optimizing the output text of an LLM by retrieving relevant information from a knowledge base outside of its training data.</p>
<p>LLMs are trained upon a large corpus of text data which makes them powerful at generating text. RAG strengthens this ability by retrieving data from external sources according to the relevant domain. This enables the model to generate more accurate text without the need for additional retraining. This makes it both powerful and cost-effective.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVR42qWRi0rEMBBF9/9/xQ/xC1QEUcSu3e0jz03zznUSsVCw4uqFtMnM3JOZ9oAdSakwzwycCzDG2qr7aZpglmXPhsNeQmsNwTlBeINwxqGkgGAz7G+A3UnA+oicM1LKKAWYpW3vUh8oeDMZt+eAQMcUU8vpi8PI9BYYQsLd0wkhZniC1hUJehw1Mrm8D0gh4J5H3DwqEBfeeiS6fBYGzx3bAq2L6AeBxYU1cTGuxRzBq3yIeD0yPLyMGCa11k3UXT/IBl+BtYtqrKN+KdJI54GvhVVCGhx7RvC0xgLVVe/nZ/nhpxQyKWXokoJr9C2wIqzykNxj0XETL38BVi02oHvncNr9v8OqlEuD5nzdyB+U8BIViz65gQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="rag"
        title=""
        src="/static/850f3f2d27c5619eed5db7039396b0d2/5a190/RAG.png"
        srcset="/static/850f3f2d27c5619eed5db7039396b0d2/772e8/RAG.png 200w,
/static/850f3f2d27c5619eed5db7039396b0d2/e17e5/RAG.png 400w,
/static/850f3f2d27c5619eed5db7039396b0d2/5a190/RAG.png 800w,
/static/850f3f2d27c5619eed5db7039396b0d2/c1b63/RAG.png 1200w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<h1>Why is RAG important?</h1>
<p>RAG is important because it proposes solutions for the limitations of LLMs.</p>
<p>Some current shortcomings of LLMs include:</p>
<ul>
<li><strong>Data Efficiency</strong>: LLMs require a large amount of data to be trained effectively.</li>
<li><strong>Knowledge</strong>: LLMs lack the ability to access external knowledge.</li>
<li><strong>Consistency</strong>: LLMs can generate inconsistent text due varying vocabulary.</li>
<li><strong>Out of Date Information</strong>: LLMs can generate text based on outdated information.</li>
</ul>
<p>In particular one funny and accurate comparison from AWS is that LLMs are like <strong>"an over-enthusiastic new employee who refuses to stay informed with current events but will always answer every question with absolute confidence."</strong></p>
<p>Another comparison that can be made is that LLMs are like a student who has memorized a textbook but has no access to the internet, while RAG is like a student who has memorized a textbook but also has access to the internet.</p>
<h1>Benefits of RAG</h1>
<p>RAG has several benefits:</p>
<ul>
<li><strong>Cost-effective implementation</strong>: Chatbots are typically developed based on Foundation Models which are API-accessible LLMs trained on a large and unorganized corpus of data. Training a FM from scratch is expensive and time-consuming. RAG can overcome these limitations by proposing a solution that is cost-effective and efficient.</li>
<li><strong>Relevant Information</strong>: RAG can retrieve information from a knowledge base that is relevant to the current time context. This ensures that the information generated by the model is up-to-date.</li>
<li><strong>Accuracy</strong>: RAG can return more accurate information by retrieving data and providing sources for the information generated by the model.</li>
<li><strong>Control</strong>: RAG allows for more control over the information generated by the model. This is because the model can be trained to retrieve information from a specific knowledge base.</li>
</ul>
<h1>How does RAG work?</h1>
<p>In classic LLMs, the model generates text based on its training data. In RAG, relevant information is retrieved from a new knowledge base and used to generate text. Then the retrieved information and user query are both given to the LLM. The LLM then uses both the new knowledge and its training data to generate a response.</p>
<p>The diagram below shows the process of RAG (source: AWS):
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVR42o1Sy07DMBDMF/MF/Ag3KnHhiLgAEpx66oEiUIWo0hYcUSlOrNrOw3bsOEwSWtoUJEay5V3veGd3HTT/hhAiz/M4jq21vSc4DvLe4xpxWQetdV3X8IBcFMVsNsNuOwQHrNoiVCkFTpomy8WCEAIOnFJKxhgOYRgWRR5F0YZzkP2Wa1W2llJUVQULOzIYUyFtf885B5lSaoz5ke2shdTeZpsyWgtXt6YxWhX8/X0FITB7tfsFBpWKk5RCKlJxLkaX05PT27cwRgmQV2brMJz35GME3pndkzJTVzfzs9Fk+kIg3DnXOoXsC/EdDsjHrabxJyErqyi6/sssBuT990ql0pShCvjqbzgsxLBMSlX+ndkbTETKTCuNWsoObc+1TvnmfHx//TRx2+YPyd5lq+XrByHIhnlUW+BMGbsYP9w9P+K8G96w5iRJYhoPnKabuZDth8NvsV0jm6b5Ap2atf7xcHr0AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="diagram"
        title=""
        src="/static/67848ed9f7c6964b40ebd02189f2bc1a/5a190/rag-diagram.png"
        srcset="/static/67848ed9f7c6964b40ebd02189f2bc1a/772e8/rag-diagram.png 200w,
/static/67848ed9f7c6964b40ebd02189f2bc1a/e17e5/rag-diagram.png 400w,
/static/67848ed9f7c6964b40ebd02189f2bc1a/5a190/rag-diagram.png 800w,
/static/67848ed9f7c6964b40ebd02189f2bc1a/84cc5/rag-diagram.png 898w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<ul>
<li><strong>Create External Data</strong>: The new data outside of the LLM's original training data set is called external data. It can be from multiple sources and can exist in various formats. Embedding Language Models, a method that converts data into numerical representations and stores it into a vector DB, create a knowledge library that the AI can understand.</li>
<li><strong>Retrieve</strong>: The query is converted into a vector representation which is compared to the vector DB to create a relevancy search.</li>
<li><strong>Augment Prompt</strong>: The retrieved information is added to the prompt. The prompt is the input given to the LLM.</li>
<li><strong>Update Data</strong>: To maintain current information, we can update the external data by asynchronously updating the documents through either real-time automation or periodic batch processing.</li>
</ul>
<h1>Possible Applications of RAG</h1>
<p>The biggest possible application of RAG in my opinion is the efficient tuning of LLMs for specific domains. This can be expected even more so in the case of chatbots specific to particular companies or domains. For example, the medical and judicial sectors often face challenges when creating chatbots due to strict regulations and consequences regarding the generation of false or incorrect information. LLMs can often provide false or outdated information, which can be detrimental in these sectors. This problem can also be seen in company-specific chatbots where the chatbot might not be able to provide the correct answers relevant to the company, such as the company's policies or procedures. RAG can help overcome these challenges by providing the chatbot with the correct information from a knowledge base that is relevant to the domain. This in turn can help the chatbot generate more accurate and relevant information.</p>
<h3>Sources:</h3>
<p><a href="https://aws.amazon.com/what-is/retrieval-augmented-generation/">https://aws.amazon.com/what-is/retrieval-augmented-generation/</a></p></div></div><footer class="Footer__FooterContainer-sc-z09s33-0 dolPew"><p>© <!-- -->2024<!-- --> HyunJoon Sung. All Rights Reserved.</p><p><a href="https://github.com/sunghj1118" class="Footer__FooterLink-sc-z09s33-1 ijVxnH">GitHub</a></p></footer> </div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/AI/rag/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-80e600752cfb72812bbd.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-b60bd6755c9d1eab21a7.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-2b3c4fa92a851745a651.js\"],\"component---src-pages-page-2-js\":[\"/component---src-pages-page-2-js-584072327fef6a59a7d5.js\"],\"component---src-pages-using-ssr-js\":[\"/component---src-pages-using-ssr-js-145eb4aa0da0f636a38b.js\"],\"component---src-pages-using-typescript-tsx\":[\"/component---src-pages-using-typescript-tsx-f912a39908a0ccf2e24c.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-189a4b72a09c2bcaca07.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-ce7d63b8df2cda8dde9d.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="90aa5ea22756195de6cf";</script><script src="/webpack-runtime-091781e558106f84d11d.js" async></script><script src="/framework-a880249783d1bea64870.js" async></script><script src="/app-80e600752cfb72812bbd.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>